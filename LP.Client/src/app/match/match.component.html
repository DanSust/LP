<div class="gallery-wrapper">
  <!-- üî• –í–ö–õ–ê–î–ö–ò -->
  <div class="tabs-container">
    <button class="tab-button"
            [class.active]="activeTab === 'mutual'"
            (click)="setActiveTab('mutual')">
      –í–∑–∞–∏–º–Ω—ã–µ
    </button>
    <button class="tab-button"
            [class.active]="activeTab === 'likesMe'"
            (click)="setActiveTab('likesMe')">
      –Ø –Ω—Ä–∞–≤–ª—é—Å—å
    </button>
    <button class="tab-button"
            [class.active]="activeTab === 'viewed'"
            (click)="setActiveTab('viewed')">
      –ü—Ä–æ—Å–º–æ—Ç—Ä—ã
    </button>
  </div>

  <!--<div class="gallery-match-container" *ngIf="!isLoading; else loadingTemplate">
    @for (image of filteredImages(); track image.userId) {
    <div class="gallery-item">
      <img [src]="baseUrl + '/Photos/image/' + image.photoId" routerLink="/vote/{{image.userId}}" />
      <div class="photo-info">
        <span class="photo-name">{{ image.name }}</span>
        <span class="photo-age">{{ image.age }}</span>
      </div>
    </div>
    }
  </div>-->
  <!-- üî• –ì–ê–õ–ï–†–ï–Ø -->
  <div class="gallery-match-container" #galleryContainer>
    @for (image of filteredImages(); track image.userId) {
    <div class="gallery-item">
      <mat-icon class="delete-icon"
                aria-hidden="false"
                aria-label="Delete"
                fontIcon="delete"
                (click)="onDelete(image.userId); $event.stopPropagation()">
      </mat-icon>
      <div class="image-wrapper">
        <img [src]="getImageUrl(image.photoId)"
             loading="lazy"
             routerLink="/vote/{{image.userId}}" />
      </div>
      <div class="photo-info">
        <span class="photo-name">{{ image.name }}</span>
        <span class="photo-age">{{ image.age }} –ª–µ—Ç</span>
        @if (image.distance) {
        <span class="photo-distance">
          <mat-icon>place</mat-icon>
          {{ formatDistance(image.distance) }}
        </span>
        }
      </div>
    </div>
    }

    @if (isLoadingMore) {
    <div class="loading-more">
      <mat-spinner diameter="30"></mat-spinner>
      <span>–ó–∞–≥—Ä—É–∑–∫–∞...</span>
    </div>
    }
  </div>

  <ng-template #loadingTemplate>
    <!--<div class="gallery-container">
      <div class="gallery-item loading"><div class="skeleton"></div></div>
      <div class="gallery-item loading"><div class="skeleton"></div></div>
      <div class="gallery-item loading"><div class="skeleton"></div></div>
      <div class="gallery-item loading"><div class="skeleton"></div></div>
    </div>-->
  </ng-template>
</div>
